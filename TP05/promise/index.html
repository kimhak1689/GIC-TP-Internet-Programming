<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

<script>
    /* ES7 */
    const isMomHappy = true;

    // Promise
    const willIGetNewPhone = new Promise(
        (resolve, reject) => {
            if (isMomHappy) {
                const phone = {
                    brand: 'Samsung',
                    color: 'black'
                };
                resolve(phone);
            } else {
                const reason = new Error('mom is not happy');
                reject(reason);
            }

        }
    );

    // 2nd promise
    async function showOff(phone) {
        return new Promise(
            (resolve, reject) => {
                var message = 'Hey friend, I have a new ' +
                    phone.color + ' ' + phone.brand + ' phone';

                resolve(message);
            }
        );
    };

    // call our promise
    async function askMom() {
        try {
            console.log('before asking Mom');

            let phone = await willIGetNewPhone;
            let message = await showOff(phone);

            console.log(message);
            console.log('after asking mom');
        }
        catch (error) {
            console.log(error.message);
        }
    }

    (async () => {
        await askMom();
    })();
</script>

</html>